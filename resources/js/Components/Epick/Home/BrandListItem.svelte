<script>
    import { onMount } from "svelte";
    import { gsap } from "gsap/dist/gsap";
    import { ScrollTrigger } from "gsap/dist/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);
    let brandListItems = [
        {
            element: '',
            styles: 'pl-6 transform 1440:-translate-x-4 1440:opacity-0',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" width="25.395" height="23.463"><path fill="none" stroke="currentColor" stroke-width=".5" d="M23.722 6.071a9.361 9.361 0 0 0-3.674-3.356.832.832 0 0 0-.359-.084.8.8 0 0 0-.706.431.772.772 0 0 0-.048.6.79.79 0 0 0 .395.461 7.811 7.811 0 0 1 3.057 2.794 7.661 7.661 0 0 1 1.173 4.07v2.423a6.93 6.93 0 0 1-.592 2.872 6.457 6.457 0 0 1-1.615 2.19 8.075 8.075 0 0 1-5.379 1.905 5.269 5.269 0 0 1-3.135-.61 4.47 4.47 0 0 0-2.256-.658 7.026 7.026 0 0 1-4.619-1.9.78.78 0 0 0-.544-.221.788.788 0 0 0-.568.245.78.78 0 0 0-.221.544.788.788 0 0 0 .245.568 8.549 8.549 0 0 0 5.612 2.339 2.961 2.961 0 0 1 1.58.461c.676.383 1.442.814 3.913.814a9.6 9.6 0 0 0 6.468-2.345 8.051 8.051 0 0 0 1.974-2.7 8.544 8.544 0 0 0 .724-3.5v-2.427a9.263 9.263 0 0 0-1.425-4.916Z"/><path fill="none" stroke="currentColor" stroke-width=".5" d="M14.37 19.336a9.58 9.58 0 0 0 1.52.126 7.5 7.5 0 0 0 2.692-.479 6.8 6.8 0 0 0 2.244-1.43.79.79 0 0 0-.544-1.358.769.769 0 0 0-.544.221 5.4 5.4 0 0 1-3.859 1.472 7.638 7.638 0 0 1-1.256-.108.893.893 0 0 0-.126-.012.78.78 0 0 0-.778.658.893.893 0 0 0-.012.126.791.791 0 0 0 .663.784Zm.126-1.262ZM10.71 21.651a8.781 8.781 0 0 1-6.145-2.411 7.774 7.774 0 0 1-2.74-5.654v-2.609a7.646 7.646 0 0 1 1.173-4.068 7.811 7.811 0 0 1 3.057-2.794.79.79 0 0 0-.359-1.5.832.832 0 0 0-.359.084 9.361 9.361 0 0 0-3.674 3.356 9.2 9.2 0 0 0-1.418 4.906v2.609a9.351 9.351 0 0 0 3.265 6.825 10.368 10.368 0 0 0 7.2 2.818.781.781 0 1 0 0-1.562Z"/><path fill="none" stroke="currentColor" stroke-width=".5" d="M18.224 3.307a1.461 1.461 0 0 1 1.328-1.352 1.436 1.436 0 0 1 .718.12.181.181 0 0 0 .233-.245A2.771 2.771 0 0 0 18.008.25H7.382a2.769 2.769 0 0 0-2.483 1.544.184.184 0 0 0 .233.251 1.452 1.452 0 0 1 .646-.09 1.455 1.455 0 0 1-.036 2.9.155.155 0 0 0-.126.09.157.157 0 0 0 .048.179 2.817 2.817 0 0 0 1.717.58h10.627a2.792 2.792 0 0 0 1.759-.61.134.134 0 0 0-.084-.239h-.006a1.453 1.453 0 0 1-1.453-1.548Zm-1.289-.616a1.332 1.332 0 0 1-1.585 1.585 1.348 1.348 0 0 1-1.017-1.017 1.332 1.332 0 0 1 1.585-1.585 1.348 1.348 0 0 1 1.017 1.017Z"/></svg>',
            title: 'Popular',
            subtitle: 'Known brands'
        },
        {
            styles: 'transform 1440:-translate-x-4 1440:opacity-0',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24.758" height="23.182"><g fill="none" stroke="currentColor" stroke-width=".5"><path d="M12.38.85a11.524 11.524 0 0 1-3.227-.5v.1a3.227 3.227 0 1 0 6.453 0v-.1a11.524 11.524 0 0 1-3.226.5Z"/><path d="M17.219.951a4.876 4.876 0 0 1-9.68 0L.28 3.472l.907 5.747 3.111.374c.357.045.358.045.358.413l-.343 12.925h16.133L20.1 10.006c-.011-.353-.011-.353.358-.413l3.111-.374.907-5.747Z"/></g></svg>',
            title: 'New',
            subtitle: 'Weekly updates'
        },
        {
            styles: 'transform 1440:-translate-x-4 1440:opacity-0',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" width="26.908" height="16.053"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width=".5"><path d="M1.219 10.023c.013-.1 7.427-2.582 7.653-2.738s7.314-5.884 7.468-6.046c.086-.091.286-.7.763-.907.327-.14 1.034.161 1.369.907a13.331 13.331 0 0 0 .694 2.243c.444.9 1.3 1.092 2.91.7a5.808 5.808 0 0 0 2.575-1.683 9.179 9.179 0 0 1 .31 1.409c.058.117.585.521.649.944a1.21 1.21 0 0 1-.259.823s.684 3.231.638 3.272-.28-.85-1.177-.909-.623.213-2.413.672-2.767.531-4.6.912a23.457 23.457 0 0 1-7.09.25c-1.2-.042-2.817.956-5.229 1.011a8.93 8.93 0 0 1-4.261-.86ZM.394 11.53s-.883 1.932 1.828 3.007 8.825 1.344 8.953 1.235c.071-.06.435-1.052.86-1.9a1.438 1.438 0 0 1 .924-.839 16.981 16.981 0 0 1 4.36 0 2.49 2.49 0 0 1 1.062.982c.471.8.477 1.468.652 1.537s5.892-.109 6.041-.168a2.55 2.55 0 0 0 1.245-.909 2.7 2.7 0 0 0 .336-1.526 4.306 4.306 0 0 0-.188-1.2 2.6 2.6 0 0 0-.425-.768c-.129-.146-.834-1.334-1.8-1.111s-3.453.731-6.069 1.319a12.2 12.2 0 0 1-4 .56c-1.873.04-2.96-.138-3.865 0a18.064 18.064 0 0 1-5.065.895A14.3 14.3 0 0 1 .394 11.53Z"/><path d="M12.388 15.779s1.353.035 2.7 0 2.678-.14 2.678-.14a4.718 4.718 0 0 0-.5-1.122.926.926 0 0 0-.764-.48 12.7 12.7 0 0 0-3.046 0c-.434.172-1.068 1.742-1.068 1.742Z"/></g></svg>',
            title: 'Low',
            subtitle: 'Affordable prices'
        },
        {
            styles: 'pl-6 transform 1440:-translate-x-4 1440:opacity-0',
            icon: '<svg xmlns="http://www.w3.org/2000/svg" width="25.244" height="16.742"><path fill="none" stroke="currentColor" stroke-width=".5" d="M20.35 11.074a1.387 1.387 0 0 1-1.546 1.546H6.436a1.546 1.546 0 0 1 0-3.093h12.372a1.387 1.387 0 0 1 1.542 1.547m-1.546 2.32H6.436a1.546 1.546 0 1 0 0 3.093h12.372a1.546 1.546 0 1 0 0-3.093m3.866-8.5a1.386 1.386 0 0 0-1.546 1.545v8.503a1.387 1.387 0 0 0 1.546 1.546c1.509-.054 2.32-1.561 2.32-4.637v-3.87c0-2.052-.81-3.056-2.32-3.091m-20.1 0C1.06 4.927.25 5.932.25 7.982v3.866c0 3.076.81 4.584 2.32 4.637a1.386 1.386 0 0 0 1.546-1.543V6.436A1.387 1.387 0 0 0 2.57 4.889m20.1-.773c0-2.563-1.351-3.82-3.866-3.864H6.436C3.92.296 2.57 1.552 2.57 4.116a2.079 2.079 0 0 1 2.32 2.319 2.079 2.079 0 0 0 2.32 2.319h10.825a2.079 2.079 0 0 0 2.32-2.319 2.079 2.079 0 0 1 2.32-2.319Z"/></svg>',
            title: 'Fast',
            subtitle: 'Easy delivery'
        }
    ];

    onMount(()=>{
        brandListItems.forEach((item, i) => {
            let mm = gsap.matchMedia();

            mm.add("(min-width: 1440px)", () => {
                gsap.to(item.element, {
                    scrollTrigger: {
                        trigger: item.element,
                        markers: false,
                        end: "bottom 70%",
                        toggleActions: "restart none none reverse",
                    },
                    translateX: 0,
                    opacity: 1,
                    ease: "none",
                    duration: 0.3,
                    delay: i * 0.2,
                });
            });
        });
    });

</script>

{#each brandListItems as item}
    <li bind:this={item.element} class={item.styles}>
        <span class="block">
            <span class="block mb-1 md:mb-1.5">
                {@html item.icon}
            </span>
            <span class="block">{item.title}</span>
            <span class="block text-base font-light">{item.subtitle}</span>
        </span>
    </li>
{/each}
